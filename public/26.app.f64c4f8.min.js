/*! build: Fri Jan 26 2018 11:31:30 GMT+0800 (中国标准时间) */
webpackJsonp([26],{1367:function(e,t,n){"use strict";function o(e){var t=(0,i.loadIdToken)(),n=t.userId,o=n+","+t.workNum+","+t.position+","+t.storeCode+","+t.storeOutletId,a={method:"post",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify({})};return fetch(i.RESTFUL_SERVER+"/crm/opinionFeedback.json?token="+o+"&content="+e,a).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){return e})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(4)},1428:function(e,t){},894:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(2),u=o(l),f=n(402),p=n(401),d=n(4),h=n(946),m=o(h);o(n(1367)),n(1428);var y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.doughnutChart={},n.state={isSuccess:!1,isSubmit:!0,isError:""},n.handleSubmit=n.handleSubmit.bind(n),n.closeNotification=n.closeNotification.bind(n),n.handleStatistics=n.handleStatistics.bind(n),n}return r(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.dispatch}},{key:"handleSubmit",value:function(){var e=this;if(""!==this.smsContent.value){var t=(0,d.loadIdToken)(),n=t.userId,o=n+","+t.workNum+","+t.position+","+t.storeCode+","+t.storeOutletId,i={method:"post",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"}};fetch(d.RESTFUL_SERVER+"/crm/opinionFeedback.json?token="+o+"&content="+this.smsContent.value,i).then(function(e){return e.json()}).then(function(t){0===t.code?e.setState({isSuccess:!0}):e.setState({isError:"请联系管理员"})}).then(function(e){return e})}}},{key:"handleStatistics",value:function(){""!==this.smsContent.value?this.setState({isSubmit:!1}):this.setState({isSubmit:!0})}},{key:"closeNotification",value:function(){this.setState({isSuccess:!1})}},{key:"render",value:function(){var e=this;return u.default.createElement(p.View,null,u.default.createElement(p.Container,{className:"hm-suggest"},u.default.createElement(m.default,{title:"意见反馈",history:this.props.history}),u.default.createElement(p.Notification,{title:"无法发送!",amStyle:"alert",visible:""!==this.state.isError,animated:!0,onDismiss:this.closeNotification},this.state.isError),u.default.createElement(p.Notification,{title:"发送成功!",amStyle:"success",visible:this.state.isSuccess,animated:!0,onDismiss:this.closeNotification},"感谢您的反馈！"),u.default.createElement("div",{className:"text-wrapper"},u.default.createElement("textarea",{rows:"8",ref:function(t){e.smsContent=t},className:"suggestText",onKeyUp:this.handleStatistics,placeholder:"请写下对“禾苗·导购助手”的宝贵意见与建议"})),u.default.createElement(p.Button,{id:"hm_send_suggest_commit",amStyle:"warning",amSize:"sm",className:"hm-send-suggest",onClick:this.handleSubmit,disabled:this.state.isSubmit},u.default.createElement("span",null,"发送"))))}}]),t}(u.default.Component);y.propTypes={dispatch:l.PropTypes.func,history:l.PropTypes.object},t.default=(0,f.connect)(s)(y)},946:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),c=function(e){return e&&e.__esModule?e:{default:e}}(s);n(401),n(954);var l=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.handleBack=n.handleBack.bind(n),n.handleClick=n.handleClick.bind(n),n}return a(t,e),r(t,[{key:"handleBack",value:function(e){e.preventDefault(),this.props.history.goBack()}},{key:"handleClick",value:function(e){e.preventDefault(),this.props.openSearchInput()}},{key:"render",value:function(){var e=this.props,t=e.title,n=(e.history,e.other,e.type),o=e.mode,i=void 0;return i="normal"===n?c.default.createElement("div",{className:"normal"},t):"special"===n?c.default.createElement("div",{className:"special"},c.default.createElement("span",{id:"hm_back",href:"#/",className:"icon icon-left-nav",onClick:this.handleBack}),c.default.createElement("span",{className:"title"},t),c.default.createElement("span",{className:"other"},c.default.createElement("span",{className:"icon icon-search searchButton",onClick:this.handleClick}))):c.default.createElement("div",{className:"default"},c.default.createElement("span",{id:"hm_back",href:"#/",className:"icon icon-left-nav",onClick:this.handleBack}),c.default.createElement("span",{className:"default-title"},t)),c.default.createElement("header",{className:o?"hm-default-header manager":"hm-default-header"},i)}}]),t}(c.default.Component);t.default=l,l.propTypes={title:s.PropTypes.string.isRequired,history:s.PropTypes.object.isRequired,other:s.PropTypes.string.isRequired,type:s.PropTypes.string.isRequired,openSearchInput:s.PropTypes.func.isRequired,mode:s.PropTypes.string.isRequired}},954:function(e,t){}});