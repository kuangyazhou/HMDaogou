/*! build: Fri Jan 26 2018 11:31:30 GMT+0800 (中国标准时间) */
webpackJsonp([20],{1071:function(e,t,r){var n,a,o;!function(l,c){a=[t,r(2),r(69)],n=c,void 0!==(o="function"==typeof n?n.apply(t,a):n)&&(e.exports=o)}(0,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return"function"==typeof e.children?e.children():e.children||null}function o(e){return a(e)}function l(e){return a(e)}function c(e){var t=e.children;return null==t?null:[].concat(t).find(function(t){return t.type!==l^!e.condition})||null}Object.defineProperty(e,"__esModule",{value:!0}),e.Then=o,e.Else=l,e.If=c;var i=(n(t),n(r));o.propTypes=l.propTypes={children:i.default.oneOfType([i.default.func,i.default.string,i.default.number,i.default.object])};var u=i.default.oneOfType([i.default.object,i.default.instanceOf(o),i.default.instanceOf(l)]);c.propTypes={condition:i.default.bool.isRequired,children:i.default.oneOfType([i.default.arrayOf(u),u])},c.Then=o,c.Else=l,e.default=c})},1422:function(e,t){},884:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){return e.ordersByCustomerOldId&&e.ordersByCustomerOldId.orders?{error:{},orders:e.ordersByCustomerOldId.orders}:e.error?{error:e.error}:{orders:[],error:{}}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(2),s=n(u),d=r(37),f=(n(d),r(402)),p=r(1071),h=r(401),m=r(1),y=n(m),b=r(946),v=n(b),E=r(4),O=r(417);r(1422);var _=function(e){function t(e){a(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={isErrorHappend:!1,showOrHide:!1},r.handleSearch=r.handleSearch.bind(r),r.openSearchInput=r.openSearchInput.bind(r),r.cancleSearch=r.cancleSearch.bind(r),r}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,t=this.props.params;e((0,O.fetchOrders)(t.memberId))}},{key:"handleSearch",value:function(e){e.preventDefault();var t=this.props.dispatch,r=this.props.params,n=this.queryStr.value;t((0,O.fetchOrders)(r.memberId,n))}},{key:"openSearchInput",value:function(){var e=this;this.setState({showOrHide:!this.state.showOrHide}),setTimeout(function(){e.queryStr.focus()},0)}},{key:"cancleSearch",value:function(){this.openSearchInput(),this.queryStr.blur()}},{key:"renderCardHeader",value:function(e){return s.default.createElement("div",{className:"hm-order-header"},s.default.createElement("div",{className:"hm-order-number"},s.default.createElement("span",null,"订单号:"),s.default.createElement("span",null,e.orderId)),s.default.createElement("div",{className:"hm-order-date"},s.default.createElement("span",null,"时间:"),s.default.createElement("span",null,(0,y.default)(e.addTime).format("YYYY-MM-DD"))))}},{key:"renderCardFooter",value:function(e,t){return s.default.createElement("div",{className:"hm-order-footer"},s.default.createElement("div",{className:"hm-order-status"},"交易成功"),s.default.createElement("div",{className:"hm-order-details"},"共",s.default.createElement("span",{className:"hm-order-total"},t),"件商品 合计: ",s.default.createElement("span",{className:"hm-order-total-amount"},e.totPrice),"元"))}},{key:"renderProductAmount",value:function(e){return s.default.createElement("div",{className:"hm-order-product-amount"},s.default.createElement("h3",null,"￥ ",e.shopPrice),s.default.createElement("h3",null,"X",e.goodsNumber))}},{key:"renderProductImg",value:function(e){return s.default.createElement("i",{className:"iconfont icon-tupian"})}},{key:"render",value:function(){var e=this,t=(this.props.error,this.props.orders);return(0,E.sortObj)(t,"addTime","down"),s.default.createElement(h.View,{className:"hm-orders-container"},s.default.createElement(h.Notification,{title:"请稍后再来!",amStyle:"alert",visible:this.state.isErrorHappend,animated:!0,onDismiss:this.closeNotification},"服务器正卖力处理中"),!this.state.showOrHide&&s.default.createElement(v.default,{title:"订单",history:this.props.history,type:"special",openSearchInput:this.openSearchInput}),this.state.showOrHide&&s.default.createElement("div",{className:"hm-orders-header"},s.default.createElement("form",{action:"post",onSubmit:this.handleSearch},s.default.createElement(h.Grid,null,s.default.createElement(h.Col,{cols:5,className:"search"},s.default.createElement("input",{id:"hm_orders_search_input",type:"text",name:"q",ref:function(t){e.queryStr=t},required:!0,placeholder:"可输入订单号"}),s.default.createElement("span",{id:"hm_orders_search_button",className:"icon icon-search",onClick:this.handleSearch})),s.default.createElement(h.Col,{cols:1},s.default.createElement("span",{className:"cancle",onClick:this.cancleSearch},"取消"))))),s.default.createElement(h.Container,{scrollable:!0,className:"hm-order-grid ks-grid"},s.default.createElement(p.If,{condition:t.length>0},s.default.createElement(p.Then,null,s.default.createElement("div",null,t.map(function(t,r){var n="order-"+r+"-"+t.orderId,a=0;return t.orderDetailOfflineList.forEach(function(e){a+=e.goodsNumber}),s.default.createElement(h.Card,{key:n,className:"hm-orders-card",header:e.renderCardHeader(t),footer:e.renderCardFooter(t,a)},s.default.createElement(h.List,{inset:!0},t.orderDetailOfflineList.map(function(t,r){var n="product-"+r+"-"+t.goodsSn;return s.default.createElement(h.List.Item,{key:n,title:t.goodsName||"无产品名",after:e.renderProductAmount(t),media:e.renderProductImg(t)})})))}))),s.default.createElement(p.Else,null,s.default.createElement("p",{className:"hm-null"},s.default.createElement("i",{className:"iconfont icon-meiyouxiaoxi"}),"用户暂时没有订单")))))}}]),t}(s.default.Component);_.propTypes={error:u.PropTypes.object.isRequired,dispatch:u.PropTypes.func.isRequired,orders:u.PropTypes.array.isRequired,history:u.PropTypes.object.isRequired},t.default=(0,f.connect)(c)(_)},946:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(2),i=function(e){return e&&e.__esModule?e:{default:e}}(c);r(401),r(954);var u=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={},r.handleBack=r.handleBack.bind(r),r.handleClick=r.handleClick.bind(r),r}return o(t,e),l(t,[{key:"handleBack",value:function(e){e.preventDefault(),this.props.history.goBack()}},{key:"handleClick",value:function(e){e.preventDefault(),this.props.openSearchInput()}},{key:"render",value:function(){var e=this.props,t=e.title,r=(e.history,e.other,e.type),n=e.mode,a=void 0;return a="normal"===r?i.default.createElement("div",{className:"normal"},t):"special"===r?i.default.createElement("div",{className:"special"},i.default.createElement("span",{id:"hm_back",href:"#/",className:"icon icon-left-nav",onClick:this.handleBack}),i.default.createElement("span",{className:"title"},t),i.default.createElement("span",{className:"other"},i.default.createElement("span",{className:"icon icon-search searchButton",onClick:this.handleClick}))):i.default.createElement("div",{className:"default"},i.default.createElement("span",{id:"hm_back",href:"#/",className:"icon icon-left-nav",onClick:this.handleBack}),i.default.createElement("span",{className:"default-title"},t)),i.default.createElement("header",{className:n?"hm-default-header manager":"hm-default-header"},a)}}]),t}(i.default.Component);t.default=u,u.propTypes={title:c.PropTypes.string.isRequired,history:c.PropTypes.object.isRequired,other:c.PropTypes.string.isRequired,type:c.PropTypes.string.isRequired,openSearchInput:c.PropTypes.func.isRequired,mode:c.PropTypes.string.isRequired}},954:function(e,t){}});