/*! build: Fri Jan 26 2018 11:31:30 GMT+0800 (中国标准时间) */
webpackJsonp([17],{1356:function(e,t){},1380:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),o=a(2),u=l(o),m=a(12),i=l(m),f=a(401);a(1395);var d=function(e){function t(e){n(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={show:!1,itemValue:{label:"",value:""}},a.selectClick=a.selectClick.bind(a),a.itemClick=a.itemClick.bind(a),a}return r(t,e),c(t,[{key:"selectClick",value:function(){this.setState({show:!this.state.show})}},{key:"itemClick",value:function(e,t){this.setState({show:!1}),this.props.selectEmit.call(this,t)}},{key:"render",value:function(){var e=this,t=(this.props.text,this.state.show?"":"hidden"),a=(0,i.default)("select-body flex column",t);return u.default.createElement("div",{className:"hm-select flex column"},u.default.createElement("div",{className:"select-header flex"},u.default.createElement("span",{className:"flex center"},this.props.text," ",u.default.createElement(f.Icon,{className:"m5 f14",onClick:this.selectClick,name:"down-nav"}))),u.default.createElement("div",{className:a},this.props.data.map(function(t,a){return u.default.createElement("div",{key:a,onClick:function(a){e.itemClick(a,t)},className:"flex select-item center"},t.label)})))}}]),t}(u.default.Component);t.default=d,d.defaultProps={data:[{value:1,label:"光谷店"},{value:2,label:"徐东店"},{value:3,label:"永旺店"},{value:4,label:"永旺店"},{value:1,label:"光谷店"},{value:2,label:"徐东店"},{value:3,label:"永旺店"},{value:4,label:"永旺店"},{value:1,label:"光谷店"},{value:2,label:"徐东店"},{value:3,label:"永旺店"},{value:4,label:"永旺店"},{value:1,label:"光谷店"},{value:2,label:"徐东店"},{value:3,label:"永旺店"},{value:4,label:"永旺店"},{value:1,label:"光谷店"},{value:2,label:"徐东店"},{value:3,label:"永旺店"},{value:4,label:"永旺店"},{value:1,label:"光谷店"},{value:2,label:"徐东店"},{value:3,label:"永旺店"},{value:4,label:"永旺店"},{value:1,label:"光谷店"},{value:2,label:"徐东店"},{value:3,label:"永旺店"},{value:4,label:"永旺店"},{value:1,label:"光谷店"},{value:2,label:"徐东店"},{value:3,label:"永旺店"},{value:4,label:"永旺店"}]},d.propTypes={text:o.PropTypes.string.isRequired,data:o.PropTypes.Array,selectEmit:o.PropTypes.func}},1385:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(1380),n=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=n.default},1386:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={currentmonth:{storeList:[],total:null},total:{storeList:[],total:null},lastmonth:{storeList:[],total:null},today:{storeList:[],total:null},yesterday:{storeList:[],total:null}};t.default=l},1395:function(e,t){},910:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){return{todaySale:e.todaySale,storeList:e.storeList,orderInfo:e.orderInfo,memberInfo:e.memberInfo,newMember:e.newMember,singleSale:e.singleSale,saleChance:e.saleChance}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(2),m=l(u),i=a(402);a(404),a(1356);var f=a(1386),d=l(f),b=a(1385),p=l(b),h=a(4),v=a(407),E=function(e){function t(e){n(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={Sale:d.default,Order:d.default,TransMember:d.default,Single:d.default,storeList:[],newMember:{StoreList:[],Baby:null,Mom:null},saleChance:{},guideNum:null,Follow:null,Chance:null,Percentage:null},a.selectClick=a.selectClick.bind(a),a.todayClick=a.todayClick.bind(a),a.monthClick=a.monthClick.bind(a),a.newMemberClick=a.newMemberClick.bind(a),a.saleChanceClick=a.saleChanceClick.bind(a),a}return r(t,e),o(t,[{key:"componentWillMount",value:function(){var e=this.props.dispatch;e((0,v.getSaleChance)()),e((0,v.getTodaySale)()),e((0,v.getStoreList)()),e((0,v.getOrderInfo)()),e((0,v.getmemberInfo)()),e((0,v.getNewMember)()),e((0,v.getSingleSale)())}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=e.todaySale,a=e.storeList,l=e.orderInfo,n=e.memberInfo,s=e.newMember,r=e.singleSale,c=e.saleChance;if(t.status&&this.setState({Sale:t.todaySale.pager}),l.status&&this.setState({Order:l.orderInfo.pager}),n.status&&this.setState({TransMember:n.memberInfo.pager}),r.status&&this.setState({Single:r.singleSale.pager}),s.status){var o=0,u=0;s.newMember.baby.forEach(function(e,t){o+=e.newMemberinfo?e.newMemberinfo:0,u+=s.newMember.mom[t].newMemberinfo?s.newMember.mom[t].newMemberinfo:0}),this.setState({newMember:{Baby:o,Mom:u}})}if(a.status&&a.storeList.pageItems.length>0){var m=[];a.storeList.pageItems.forEach(function(e){m.push({label:e.name,value:e.id})}),this.setState({storeList:m,guideNum:a.storeList.pager.guiderNum})}if(c.status&&c.saleChance.pageItems.length>0){this.setState({saleChance:c.saleChance.pageItems});var i=null,f=null;c.saleChance.pageItems.forEach(function(e){i+=e.followChance,f+=e.totalChance}),f&&this.setState({Percentage:(i/f*100).toFixed(2)}),this.setState({Follow:i,Chance:f})}}},{key:"componentWillUnmount",value:function(){}},{key:"selectClick",value:function(e){var t=(0,h.loadIdToken)();t.storeOutletId=e.value,(0,h.setIdToken)(t);var a=this.context.router,l=e.label;a.push("/managerHome/"+l+"/staffSales"),sessionStorage.setItem("userType","督导")}},{key:"todayClick",value:function(){this.context.router.push("/supervisor/todaysale")}},{key:"monthClick",value:function(){this.context.router.push("/supervisor/monthsale")}},{key:"newMemberClick",value:function(){this.context.router.push("/supervisor/newmember")}},{key:"saleChanceClick",value:function(){this.context.router.push("/supervisor/salechance")}},{key:"render",value:function(){var e=(0,h.loadIdToken)();return m.default.createElement("div",{className:"supervisor flex column"},m.default.createElement("div",{className:"flex header column"},m.default.createElement("div",{className:"flex center between"},m.default.createElement("span",{className:"flex"},e.name),m.default.createElement("span",{className:"flex center font26"},"督导系统"),m.default.createElement("span",{className:"flex negative-margin w50 end"},m.default.createElement(p.default,{text:"门店",data:this.state.storeList,selectEmit:this.selectClick}))),m.default.createElement("div",{className:"flex total around"},m.default.createElement("div",{className:"flex center column"},m.default.createElement("span",{className:"flex orange"},this.state.storeList.length),m.default.createElement("span",{className:"flex"},"门店数量")),m.default.createElement("div",{className:"flex center column"},m.default.createElement("span",{className:"flex orange"},this.state.guideNum),m.default.createElement("span",{className:"flex"},"导购数量")))),m.default.createElement("div",{className:"main"},m.default.createElement("div",{className:"flex totday-sale radius column"},m.default.createElement("div",{className:"flex sale-header between center"},m.default.createElement("span",{className:"flex f12"},"今日经营数据"),m.default.createElement("span",{className:"flex",onClick:this.todayClick},">")),m.default.createElement("div",{className:"flex sale-table column"},m.default.createElement("div",{className:"flex row around table-row"},m.default.createElement("span",{className:"flex table-item center gray f12"},"经营项"),m.default.createElement("span",{className:"flex table-item center gray f12"},"今日"),m.default.createElement("span",{className:"flex table-item center gray f12"},"昨日")),m.default.createElement("div",{className:"flex row around table-row"},m.default.createElement("span",{className:"flex table-item center f12"},"销售额"),m.default.createElement("span",{className:"flex orange table-item center"},Number(this.state.Sale.today.total).toLocaleString()),m.default.createElement("span",{className:"flex table-item center"},Number(this.state.Sale.yesterday.total).toLocaleString())),m.default.createElement("div",{className:"flex row around table-row"},m.default.createElement("span",{className:"flex table-item center f12"},"订单数"),m.default.createElement("span",{className:"flex orange table-item center"},this.state.Order.today.total),m.default.createElement("span",{className:"flex table-item center"},this.state.Order.yesterday.total)),m.default.createElement("div",{className:"flex row around table-row"},m.default.createElement("span",{className:"flex table-item center f12"},"交易会员数"),m.default.createElement("span",{className:"flex orange table-item center"},this.state.TransMember.today.total),m.default.createElement("span",{className:"flex table-item center"},this.state.TransMember.yesterday.total)),m.default.createElement("div",{className:"flex row around table-row"},m.default.createElement("span",{className:"flex table-item center f12"},"客单价"),m.default.createElement("span",{className:"flex orange table-item center"},Number(this.state.Single.today.total).toLocaleString()),m.default.createElement("span",{className:"flex table-item center"},Number(this.state.Single.yesterday.total).toLocaleString())))),m.default.createElement("div",{className:"flex month-sale radius column"},m.default.createElement("div",{className:"flex sale-header between center"},m.default.createElement("span",{className:"flex f12"},"月度经营数据"),m.default.createElement("span",{className:"flex",onClick:this.monthClick},">")),m.default.createElement("div",{className:"flex sale-table column"},m.default.createElement("div",{className:"flex row around table-row"},m.default.createElement("span",{className:"flex table-item center gray f12"},"经营项"),m.default.createElement("span",{className:"flex table-item center gray f12"},"本月",m.default.createElement("span",{className:"font10 red"},"截止昨日")),m.default.createElement("span",{className:"flex table-item center gray f12"},"上月")),m.default.createElement("div",{className:"flex row around table-row"},m.default.createElement("span",{className:"flex table-item center f12"},"销售额"),m.default.createElement("span",{className:"flex orange table-item center"},Number(this.state.Sale.currentmonth.total).toLocaleString()),m.default.createElement("span",{className:"flex table-item center"},Number(this.state.Sale.lastmonth.total).toLocaleString())),m.default.createElement("div",{className:"flex row around table-row"},m.default.createElement("span",{className:"flex table-item center f12"},"订单数"),m.default.createElement("span",{className:"flex orange table-item center"},this.state.Order.currentmonth.total),m.default.createElement("span",{className:"flex table-item center"},this.state.Order.lastmonth.total)),m.default.createElement("div",{className:"flex row around table-row"},m.default.createElement("span",{className:"flex table-item center f12"},"交易会员数"),m.default.createElement("span",{className:"flex orange table-item center"},this.state.TransMember.currentmonth.total),m.default.createElement("span",{className:"flex table-item center"},this.state.TransMember.lastmonth.total)),m.default.createElement("div",{className:"flex row around table-row"},m.default.createElement("span",{className:"flex table-item center f12"},"客单价"),m.default.createElement("span",{className:"flex orange table-item center"},Number(this.state.Single.currentmonth.total).toLocaleString()),m.default.createElement("span",{className:"flex table-item center"},Number(this.state.Single.lastmonth.total).toLocaleString())))),m.default.createElement("div",{className:"flex month-new radius between"},m.default.createElement("div",{className:"flex around new-text"},m.default.createElement("div",{className:"flex column center"},m.default.createElement("span",{className:"flex orange"},this.state.newMember.Baby+this.state.newMember.Mom),m.default.createElement("span",{className:"flex f12"},"今日新客开发情况")),m.default.createElement("div",{className:"flex column center"},m.default.createElement("span",{className:"flex"},this.state.newMember.Mom," "),m.default.createElement("span",{className:"flex f12"},"孕妈")),m.default.createElement("div",{className:"flex column center"},m.default.createElement("span",{className:"flex"},this.state.newMember.Baby," "),m.default.createElement("span",{className:"flex f12"},"萌宝"))),m.default.createElement("div",{className:"flex center"},m.default.createElement("span",{className:"flex",onClick:this.newMemberClick},">"))),m.default.createElement("div",{className:"flex store-sale radius between"},m.default.createElement("div",{className:"flex column center"},m.default.createElement("span",{className:"flex f12"},"销售机会跟进统计")),m.default.createElement("div",{className:"flex column center"},m.default.createElement("span",{className:"flex orange"},this.state.Follow),m.default.createElement("span",{className:"flex f12"},"跟进数")),m.default.createElement("div",{className:"flex column center"},m.default.createElement("span",{className:"flex"},this.state.Chance),m.default.createElement("span",{className:"flex f12"},"应跟进数")),m.default.createElement("div",{className:"flex column center"},m.default.createElement("span",{className:"flex"},this.state.Percentage,"%"),m.default.createElement("span",{className:"flex f12"},"完成度")),m.default.createElement("div",{className:"flex center"},m.default.createElement("span",{className:"flex",onClick:this.saleChanceClick},">")))))}}]),t}(m.default.Component);E.contextTypes={router:u.PropTypes.object.isRequired},E.propTypes={dispatch:u.PropTypes.func.isRequired,todaySale:u.PropTypes.Object,storeList:u.PropTypes.Object,orderInfo:u.PropTypes.Object,memberInfo:u.PropTypes.Object,newMember:u.PropTypes.Object,singleSale:u.PropTypes.Object,saleChance:u.PropTypes.Object},t.default=(0,i.connect)(c)(E)}});