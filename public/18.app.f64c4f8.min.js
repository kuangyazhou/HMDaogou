/*! build: Fri Jan 26 2018 11:31:30 GMT+0800 (中国标准时间) */
webpackJsonp([18],{1378:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(2),i=function(e){return e&&e.__esModule?e:{default:e}}(o),u=(a(401),a(4));a(403),a(1394);var s=function(e){function t(e){n(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isErrorHappend:!1},a.toTrain=a.toTrain.bind(a),a}return c(t,e),r(t,[{key:"componentDidMount",value:function(){}},{key:"handleClick",value:function(e){return e.preventDefault(),!1}},{key:"toTrain",value:function(e){e.preventDefault();var t=(0,u.getToken)();window.location.href=u.RESTFUL_SERVER+"/crm/exam/exam_crm_link.htm?token="+t}},{key:"render",value:function(){var e=this.props.user;return i.default.createElement("div",{className:"hm-efficiency-wrapper"},i.default.createElement("div",{className:"hm-efficiency-menu"},i.default.createElement("div",{className:"menu-header"},i.default.createElement("i",{className:"iconfont icon-jin_fill"}),"今日动态"),i.default.createElement("div",{className:"menu-body"},i.default.createElement("div",{className:"menu-item"},i.default.createElement("div",null,i.default.createElement("i",{className:"iconfont icon-yuezhan"}),i.default.createElement("span",{className:"text small"},"销售金额")),e.myActivity.today.amount?Number(e.myActivity.today.amount).toLocaleString().toLocaleString():i.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),i.default.createElement("div",{className:"menu-item"},i.default.createElement("div",null,i.default.createElement("i",{className:"iconfont icon-dingdanzongshu-"}),i.default.createElement("span",{className:"text small"},"订单数")),e.myActivity.today.count?Number(e.myActivity.today.count).toLocaleString():i.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),i.default.createElement("div",{className:"menu-item"},i.default.createElement("div",null,i.default.createElement("i",{className:"iconfont icon-xinzengkehu"}),i.default.createElement("span",{className:"text small"},"新增客户")),e.myActivity.today.countMember?Number(e.myActivity.today.countMember).toLocaleString():i.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),i.default.createElement("div",{className:"menu-item"},i.default.createElement("div",null,i.default.createElement("i",{className:"iconfont icon-lianxi"}),i.default.createElement("span",{className:"text small"},"联系客户")),e.myActivity.today.contactNum?Number(e.myActivity.today.contactNum).toLocaleString():i.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})))),i.default.createElement("div",{className:"hm-efficiency-menu-yesterday"},i.default.createElement("div",{className:"menu-header"},i.default.createElement("i",{className:"iconfont icon-zuori"}),"昨日动态"),i.default.createElement("div",{className:"menu-body"},i.default.createElement("a",{className:"menu-item",href:"#/",onClick:this.handleClick},i.default.createElement("div",null,i.default.createElement("i",{className:"iconfont icon-yuezhan"}),i.default.createElement("span",{className:"text small"},"销售金额")),Number(e.myActivity.yestoday.amount).toLocaleString()),i.default.createElement("a",{className:"menu-item",href:"#/",onClick:this.handleClick},i.default.createElement("div",null,i.default.createElement("span",{className:"iconfont icon-dingdanzongshu-"}),i.default.createElement("span",{className:"text small"},"订单数")),Number(e.myActivity.yestoday.count).toLocaleString()),i.default.createElement("a",{className:"menu-item",id:"hm_activity_dealed_customer",href:"#/customer/list/task/yesterdayDeal"},i.default.createElement("div",null,i.default.createElement("span",{className:"iconfont icon-chengjiaonan"}),i.default.createElement("span",{className:"text small"},"成交客户")),i.default.createElement("div",null,Number(e.myActivity.yestoday.countMember).toLocaleString(),i.default.createElement("i",{className:"icon icon-right-nav"}))),i.default.createElement("a",{className:"menu-item",id:"hm_activity_dealed_customer",href:"#/customer/list/task/yesterdayAdd"},i.default.createElement("div",null,i.default.createElement("span",{className:"iconfont icon-xinzengkehu"}),i.default.createElement("span",{className:"text small"},"新增客户")),i.default.createElement("div",null,Number(e.myActivity.yestoday.countNewMember).toLocaleString(),i.default.createElement("i",{className:"icon icon-right-nav"}))),i.default.createElement("a",{href:"#/",className:"menu-item",onClick:this.handleClick},i.default.createElement("div",null,i.default.createElement("span",{className:"iconfont icon-baojiadan"}),i.default.createElement("span",{className:"text small"},"单客价")),Number(e.myActivity.yestoday.memberAmount).toLocaleString()))),i.default.createElement("div",null,i.default.createElement("a",{id:"hm_activity_to_train",onClick:this.toTrain,className:"btn",href:"#/"},i.default.createElement("div",null,i.default.createElement("i",{className:"iconfont icon-kaoshi"}),"去考试"),i.default.createElement("i",{className:"icon icon-right-nav"}))))}}]),t}(i.default.Component);t.default=s,s.propTypes={user:o.PropTypes.object.isRequired}},1394:function(e,t){},1426:function(e,t){},892:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){var t=e.user,a=e.auth;return t?{user:t,auth:a}:{auth:{user:{name:""}},user:{myActivity:{today:{amount:"0",count:"0"},yestoday:{dataMap:{countTotal:"0",countWhith:"0",countNewMember:"0",countMember:"0",memberAmount:"0",amount:"0",count:"0"},monthMap:{countTotal:"0",countWhith:"0",countNewMember:"0",countMember:"0",memberAmount:"0",amount:"0",count:"0"}}},myPerformace:{targetAmount:"0",saleTarget:"0",memberTarget:"0",saleAmount:"0",memberCount:"0",memberPrice:"0",memberConsume:"0"},performanceTest:{assess:[],pager:{currentPage:1,pageSize:15,totalItem:3,totalPage:1}},monthMemberReword:{reward:[],pager:{currentMonthMemberReword:"",currentPage:1,pageSize:15,totalItem:3,totalPage:1}},allCoupons:[{bonusName:"",count:"",id:"",min:"",money:"",name:""}],error:null}}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),m=a(402),d=(a(177),a(401),a(412)),f=a(408),p=(a(432),a(1378)),y=(n(p),a(4)),h=a(403),E=a(946),v=n(E);a(1426);var N=function(e){function t(e){l(this,t);var a=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isErrorHappend:!1,isShowModal:!1},a.handleToOtherPage=a.handleToOtherPage.bind(a),a.toTrain=a.toTrain.bind(a),a}return r(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.user,n=(this.props.params,(0,h.getViewportHeight)()),l=(0,h.outerHeight)(document.querySelector(".hm-default-header")),c=(0,h.outerHeight)(document.querySelector(".tabbar")),r=n-l-c+"px";document.querySelector(".hm-performance").style.height=r,t((0,d.getCurrentDayActivity)()),t((0,d.getYestodayActivity)()),a.allCoupons||t((0,f.fetchALLCoupons)());for(var o=document.querySelectorAll("[data-tab-name]"),i=0;i<o.length;i++)"task"!==o[i].getAttribute("data-tab-name")&&o[i].addEventListener("click",this.handleToOtherPage)}},{key:"componentWillReceiveProps",value:function(e){e.user.error&&this.setState({isErrorHappend:!0})}},{key:"componentWillUnmount",value:function(){for(var e=document.querySelectorAll("[data-tab-name]"),t=0;t<e.length;t++)"task"!==e[t].getAttribute("data-tab-name")&&e[t].removeEventListener("click",this.handleToOtherPage);document.querySelector(".scroll")&&document.querySelector(".activeWrapper").classList.remove("scroll")}},{key:"handleToOtherPage",value:function(e){this.setState({isShowModal:!0})}},{key:"toTrain",value:function(e){e.preventDefault();var t=(0,y.getToken)();window.location.href=y.RESTFUL_SERVER+"/crm/exam/exam_crm_link.htm?token="+t}},{key:"render",value:function(){var e=this.props,t=(e.auth,e.user),a=this.props,n=(a.params,a.children,a.location,(0,y.getToken)()),l=y.RESTFUL_SERVER+"/crm/gotoPage.htm?gotoPage=/store/user/bind_authorize.htm&token="+n,c=(0,y.loadIdToken)().name,r=(0,y.loadIdToken)().storeOutletName,o=t.myActivity.yestoday.completePerformanceAsRadio;return o=o?o.replace("%",""):""===o?0:s.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"}),s.default.createElement("div",null,s.default.createElement(v.default,{title:"我的",type:"normal"}),s.default.createElement("div",{className:"hm-performance"},s.default.createElement("div",{className:"hm-performance-header"},s.default.createElement("span",null,c),r,s.default.createElement("a",{href:l,className:"bind"},"绑定")),s.default.createElement("div",{className:"hm-performance-nav"},s.default.createElement("a",{href:"#/performance/performanceCoupon",className:"coupon"},s.default.createElement("div",null,s.default.createElement("b",null,t.allCoupons?t.allCoupons.length:s.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),"类"),s.default.createElement("span",null,"优惠券")),s.default.createElement("a",{href:"#/sales",className:"complete-rank"},s.default.createElement("div",null,"第",s.default.createElement("b",null,t.myActivity.yestoday.ranking?t.myActivity.yestoday.ranking:s.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),"名"),s.default.createElement("span",null,"完成率排行")),s.default.createElement("div",{href:"#/",className:"complete-percent"},s.default.createElement("div",null,s.default.createElement("b",null,o),"%"),s.default.createElement("span",null,"完成率"))),s.default.createElement("div",{className:"history-sale"},s.default.createElement("div",{className:"icon-wrapper"},s.default.createElement("i",{className:"iconfont icon-yuezhan"}),s.default.createElement("span",null,"销售金额"),s.default.createElement("i",{className:"line"})),s.default.createElement("div",{className:"sale-wrapper"},s.default.createElement("div",{className:"today-sale"},s.default.createElement("div",null,t.myActivity.today.amount?parseInt(t.myActivity.today.amount,10).toLocaleString():s.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),s.default.createElement("span",null,"今日")),s.default.createElement("div",{className:"yesterday-sale"},s.default.createElement("div",null,t.myActivity.yestoday.dataMap.amount?parseInt(t.myActivity.yestoday.dataMap.amount,10).toLocaleString():s.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),s.default.createElement("span",null,"昨日")),s.default.createElement("div",{className:"month-sale"},s.default.createElement("div",null,t.myActivity.yestoday.monthMap.amount?parseInt(t.myActivity.yestoday.monthMap.amount,10).toLocaleString():s.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),s.default.createElement("span",null,"本月")))),s.default.createElement("div",{className:"other-sale-container"},s.default.createElement("div",{className:"close-deal border"},s.default.createElement("div",{className:"icon-wrapper"},s.default.createElement("i",{className:"iconfont icon-chengjiaonan"}),s.default.createElement("span",null,"成交客户"),s.default.createElement("i",{className:"line"})),s.default.createElement("div",{className:"sale-wrapper"},s.default.createElement("a",{className:"yesterday-sale"},s.default.createElement("div",null,t.myActivity.today.count||s.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),s.default.createElement("span",null,"今日")),s.default.createElement("a",{className:"yesterday-sale"},s.default.createElement("div",null,t.myActivity.yestoday.dataMap.countMember||0),s.default.createElement("span",null,"昨日")),s.default.createElement("a",{className:"month-sale"},s.default.createElement("div",null,t.myActivity.yestoday.monthMap.countMember||0),s.default.createElement("span",null,"本月")))),s.default.createElement("div",{className:"new-customer border"},s.default.createElement("div",{className:"icon-wrapper"},s.default.createElement("i",{className:"iconfont icon-xinzengkehu"}),s.default.createElement("span",null,"新增客户"),s.default.createElement("i",{className:"line"})),s.default.createElement("div",{className:"sale-wrapper"},s.default.createElement("a",{className:"today-sale",href:"#/customer/list/task/todayAdd"},s.default.createElement("div",null,t.myActivity.today.countMember||s.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),s.default.createElement("span",null,"今日")),s.default.createElement("a",{className:"yesterday-sale",href:"#/customer/list/task/yesterdayAdd"},s.default.createElement("div",null,t.myActivity.yestoday.dataMap.countNewMember||s.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),s.default.createElement("span",null,"昨日")),s.default.createElement("a",{className:"month-sale",href:"#/customer/list/task/monthAdd"},s.default.createElement("div",null,t.myActivity.yestoday.monthMap.countNewMember||s.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),s.default.createElement("span",null,"本月")))),s.default.createElement("div",{className:"contacted-customer"},s.default.createElement("div",{className:"icon-wrapper"},s.default.createElement("i",{className:"iconfont icon-lianxi"}),s.default.createElement("span",null,"联系客户"),s.default.createElement("i",{className:"line"})),s.default.createElement("div",{className:"sale-wrapper"},s.default.createElement("a",{className:"today-sale",href:"#/customer/list/task/todayContact"},s.default.createElement("div",null,t.myActivity.today.contactNum||s.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),s.default.createElement("span",null,"今日")),s.default.createElement("a",{className:"yesterday-sale",href:"#/customer/list/task/yesterdayContact"},s.default.createElement("div",null,t.myActivity.today.yesterdayContact||s.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),s.default.createElement("span",null,"昨日")),s.default.createElement("a",{className:"month-sale",href:"#/customer/list/task/monthContact"},s.default.createElement("div",null,t.myActivity.today.MonthContact||s.default.createElement("i",{className:"iconfont icon-jiazai hm-pulse hm-loading"})),s.default.createElement("span",null,"本月"))))),s.default.createElement("div",null,s.default.createElement("a",{id:"hm_activity_to_performanceTest",className:"btn border",href:"#/performance/performanceTest"},s.default.createElement("div",null,s.default.createElement("i",{className:"iconfont icon-baojiadan"}),"绩效考核"),s.default.createElement("i",{className:"icon icon-right-nav"}))),s.default.createElement("div",null,s.default.createElement("a",{id:"hm_activity_to_suggest",className:"btn border suggest",href:"#/performance/performanceSuggest"},s.default.createElement("div",null,s.default.createElement("i",{className:"iconfont icon-beizhu"}),"意见反馈"),s.default.createElement("i",{className:"icon icon-right-nav"}))),s.default.createElement("div",null,s.default.createElement("a",{id:"hm_activity_to_train",onClick:this.toTrain,className:"btn tranin",href:"#/"},s.default.createElement("div",null,s.default.createElement("i",{className:"iconfont icon-kaoshi"}),"考试系统"),s.default.createElement("i",{className:"icon icon-right-nav"})))))}}]),t}(s.default.Component);N.propTypes={dispatch:u.PropTypes.func.isRequired,user:u.PropTypes.object.isRequired,auth:u.PropTypes.object.isRequired,history:u.PropTypes.object.isRequired,location:u.PropTypes.object.isRequired,allCoupons:u.PropTypes.array.isRequired},t.default=(0,m.connect)(o)(N)},946:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(2),i=function(e){return e&&e.__esModule?e:{default:e}}(o);a(401),a(954);var u=function(e){function t(e){n(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a.handleBack=a.handleBack.bind(a),a.handleClick=a.handleClick.bind(a),a}return c(t,e),r(t,[{key:"handleBack",value:function(e){e.preventDefault(),this.props.history.goBack()}},{key:"handleClick",value:function(e){e.preventDefault(),this.props.openSearchInput()}},{key:"render",value:function(){var e=this.props,t=e.title,a=(e.history,e.other,e.type),n=e.mode,l=void 0;return l="normal"===a?i.default.createElement("div",{className:"normal"},t):"special"===a?i.default.createElement("div",{className:"special"},i.default.createElement("span",{id:"hm_back",href:"#/",className:"icon icon-left-nav",onClick:this.handleBack}),i.default.createElement("span",{className:"title"},t),i.default.createElement("span",{className:"other"},i.default.createElement("span",{className:"icon icon-search searchButton",onClick:this.handleClick}))):i.default.createElement("div",{className:"default"},i.default.createElement("span",{id:"hm_back",href:"#/",className:"icon icon-left-nav",onClick:this.handleBack}),i.default.createElement("span",{className:"default-title"},t)),i.default.createElement("header",{className:n?"hm-default-header manager":"hm-default-header"},l)}}]),t}(i.default.Component);t.default=u,u.propTypes={title:o.PropTypes.string.isRequired,history:o.PropTypes.object.isRequired,other:o.PropTypes.string.isRequired,type:o.PropTypes.string.isRequired,openSearchInput:o.PropTypes.func.isRequired,mode:o.PropTypes.string.isRequired}},954:function(e,t){}});