/*! build: Fri Jan 26 2018 11:31:30 GMT+0800 (中国标准时间) */
webpackJsonp([49],{1356:function(e,t){},907:function(e,t,a){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{todaySale:e.todaySale,orderInfo:e.orderInfo,memberInfo:e.memberInfo,singleSale:e.singleSale}}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),o=a(2),m=function(e){return e&&e.__esModule?e:{default:e}}(o),f=a(402),u=a(401),i=a(407);a(1356);var d=function(e){function t(e){l(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={Sale:{storeList:[],total:null},Order:{storeList:[],total:null},Member:{storeList:[],total:null},SingleSale:{storeList:[],total:null}},a.tabIndex={sale:0,order:1,member:2,single:3},a.changeTab=a.changeTab.bind(a),a.back=a.back.bind(a),a}return r(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this.props.dispatch;e((0,i.getTodaySale)()),e((0,i.getOrderInfo)()),e((0,i.getmemberInfo)()),e((0,i.getSingleSale)())}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=e.todaySale,a=e.orderInfo,l=e.memberInfo,n=e.singleSale;t.status&&this.setState({Sale:t.todaySale.pager.currentmonth}),a.status&&this.setState({Order:a.orderInfo.pager.currentmonth}),l.status&&this.setState({Member:l.memberInfo.pager.currentmonth}),n.status&&this.setState({SingleSale:n.singleSale.pager.currentmonth})}},{key:"componentWillUnmount",value:function(){}},{key:"changeTab",value:function(){}},{key:"back",value:function(){this.context.router.push("/supervisor")}},{key:"sortNumber",value:function(e){return function(t,a){return a[e]-t[e]}}},{key:"judgeIcon",value:function(e){var t=null;switch(e){case 0:t=m.default.createElement("i",{className:"iconfont icon-diyiming"});break;case 1:t=m.default.createElement("i",{className:"iconfont icon-dierming"});break;case 2:t=m.default.createElement("i",{className:"iconfont icon-disanming"})}return t}},{key:"render",value:function(){var e=this;return m.default.createElement("div",{className:"today-sale flex column"},m.default.createElement("div",{className:"super-header flex between center"},m.default.createElement("span",{className:"flex back"},m.default.createElement(u.Icon,{className:"f16",onClick:this.back,name:"left"})),m.default.createElement("span",{className:"flex text"},"月度经营数据详情"),m.default.createElement("span",{className:"flex"})),m.default.createElement("div",{className:"flex center"},m.default.createElement(u.Tabs,{className:"hm-supervisor-statistics-nav",onAction:this.changeTab},m.default.createElement(u.Tabs.Item,{title:"销售额",navStyle:"alert"},m.default.createElement("div",{className:"today-main flex"},m.default.createElement("span",null,"所管辖门店本月总销售额",m.default.createElement("span",{className:"orange m5"},Number(this.state.Sale.total).toLocaleString()),"元")),m.default.createElement("div",{className:"flex",style:{margin:"0.5rem"}},"门店销售额排行"),m.default.createElement("div",{className:"today-main flex column"},m.default.createElement("div",{className:"flex row around list-item"},m.default.createElement("span",{className:"flex center w25"},"排行"),m.default.createElement("span",{className:"flex center w50"},"门店名称"),m.default.createElement("span",{className:"flex center w25"},"销售额")),this.state.Sale.storeList.sort(this.sortNumber("orderSaleInfo")).map(function(t,a){return m.default.createElement("div",{className:"flex row evenly list-item"},m.default.createElement("span",{className:"flex center w25 f16"},a<3?e.judgeIcon(a):a+1),m.default.createElement("span",{className:"flex center w50 f12"},t.storeName),m.default.createElement("span",{className:"flex center w25 f12"},Number(t.orderSaleInfo).toLocaleString()))}))),m.default.createElement(u.Tabs.Item,{title:"订单数",navStyle:"alert"},m.default.createElement("div",{className:"today-main flex"},m.default.createElement("span",null,"所管辖门店本月总订单数",m.default.createElement("span",{className:"orange m5"},this.state.Order.total))),m.default.createElement("div",{className:"flex",style:{margin:"0.5rem"}},"门店订单数排行"),m.default.createElement("div",{className:"today-main flex column"},m.default.createElement("div",{className:"flex row around list-item"},m.default.createElement("span",{className:"flex center w25"},"排行"),m.default.createElement("span",{className:"flex center w50"},"门店名称"),m.default.createElement("span",{className:"flex center w25"},"订单数")),this.state.Order.storeList.sort(this.sortNumber("orderCountInfo")).map(function(t,a){return m.default.createElement("div",{className:"flex row evenly list-item"},m.default.createElement("span",{className:"flex center w25 f16"},a<3?e.judgeIcon(a):a+1),m.default.createElement("span",{className:"flex center w50 f12"},t.storeName),m.default.createElement("span",{className:"flex center w25 f12"},t.orderCountInfo))}))),m.default.createElement(u.Tabs.Item,{title:"交易会员数",navStyle:"alert"},m.default.createElement("div",{className:"today-main flex"},m.default.createElement("span",null,"所管辖门店本月总交易会员数",m.default.createElement("span",{className:"orange m5"},this.state.Member.total))),m.default.createElement("div",{className:"flex",style:{margin:"0.5rem"}},"门店交易会员数排行"),m.default.createElement("div",{className:"today-main flex column list-item"},m.default.createElement("div",{className:"flex row around"},m.default.createElement("span",{className:"flex center w25"},"排行"),m.default.createElement("span",{className:"flex center w50"},"门店名称"),m.default.createElement("span",{className:"flex center w25"},"会员数")),this.state.Member.storeList.sort(this.sortNumber("newMemberinfo")).map(function(t,a){return m.default.createElement("div",{className:"flex row evenly list-item"},m.default.createElement("span",{className:"flex center w25 f16"},a<3?e.judgeIcon(a):a+1),m.default.createElement("span",{className:"flex center w50 f12"},t.storeName),m.default.createElement("span",{className:"flex center w25 f12"},t.newMemberinfo))}))),m.default.createElement(u.Tabs.Item,{title:"客单价",navStyle:"alert"},m.default.createElement("div",{className:"today-main flex"},m.default.createElement("span",null,"所管辖门店本月客单价",m.default.createElement("span",{className:"orange m5"},Number(this.state.SingleSale.total).toLocaleString()))),m.default.createElement("div",{className:"flex",style:{margin:"0.5rem"}},"门店客单价排行"),m.default.createElement("div",{className:"today-main flex column"},m.default.createElement("div",{className:"flex row around list-item"},m.default.createElement("span",{className:"flex center w25"},"排行"),m.default.createElement("span",{className:"flex center w50"},"门店名称"),m.default.createElement("span",{className:"flex center w25"},"客单价")),this.state.SingleSale.storeList.sort(this.sortNumber("consumeInfo")).map(function(t,a){return m.default.createElement("div",{className:"flex row evenly list-item"},m.default.createElement("span",{className:"flex center w25 f16"},a<3?e.judgeIcon(a):a+1),m.default.createElement("span",{className:"flex center w50 f12"},t.storeName),m.default.createElement("span",{className:"flex center w25 f12"},t.consumeInfoAsMoney))}))))))}}]),t}(m.default.Component);d.contextTypes={router:o.PropTypes.object.isRequired},d.propTypes={dispatch:o.PropTypes.func.isRequired,todaySale:o.PropTypes.Object,orderInfo:o.PropTypes.Object,memberInfo:o.PropTypes.Object,singleSale:o.PropTypes.Object},t.default=(0,f.connect)(s)(d)}});